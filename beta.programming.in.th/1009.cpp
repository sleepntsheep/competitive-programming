#include <stdio.h>
#include <iostream>
#include <string>

using namespace std;

string A[3];
string B[3];
int main() {
    int a, b;
    cin >> a >> b;
    getline(cin, A[1]);
    for (int i = 0; i < 3; i++)
        getline(cin, A[i]);
    for (int i = 0; i < 3; i++)
        getline(cin, B[i]);

    if (A[0] == "")
        A[0] = "   ";

    if (B[0] == "")
        B[0] = "   ";
    long long at = 0, bt = 0;

    for (int d = 0; d < b; d++) {
        int di = 0;
        char a1 = B[0][d*4];
        char a2 = B[0][d*4+1];
        char a3 = B[0][d*4+2];
        char a4 = B[1][d*4];
        char a5 = B[1][d*4+1];
        char a6 = B[1][d*4+2];
        char a7 = B[2][d*4];
        char a8 = B[2][d*4+1];
        char a9 = B[2][d*4+2];

        //cout <<a1<<a2<<a3
//        cout << "E\n" <<  B[0] << endl << B[1] << endl << B[2] << endl;

        if (a1 == ' ' && a2 == ' ' && a3 == ' ' && a4 ==  ' ' && a5 == ' ' && a6 == '|' && a7 == ' ' && a8 == ' ' && a9 == '|')
            di = 1;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  ' ' && a5 == '_' && a6 == '|' && a7 == '|' && a8 == '_' && a9 == ' ')
            di = 2;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  ' ' && a5 == '_' && a6 == '|' && a7 == ' ' && a8 == '_' && a9 == '|')
            di = 3;
        else if (a1 == ' ' && a2 == ' ' && a3 == ' ' && a4 ==  '|' && a5 == '_' && a6 == '|' && a7 == ' ' && a8 == ' ' && a9 == '|')
            di = 4;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  '|' && a5 == '_' && a6 == ' ' && a7 == ' ' && a8 == '_' && a9 == '|')
            di = 5;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  '|' && a5 == '_' && a6 == ' ' && a7 == '|' && a8 == '_' && a9 == '|')
            di = 6;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  ' ' && a5 == ' ' && a6 == ' ' && a7 == '|' && a8 == ' ' && a9 == '|')
            di = 7;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  '|' && a5 == '_' && a6 == '|' && a7 == '|' && a8 == '_' && a9 == '|')
            di = 8;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  '|' && a5 == '_' && a6 == '|' && a7 == ' ' && a8 == '_' && a9 == '|')
            di = 9;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  '|' && a5 == ' ' && a6 == '|' && a7 == '|' && a8 == '_' && a9 == '|')
            di = 0;
        else di = 1;
        cout << "E\n" <<  a1 << a2 << a3 << endl << a4 << a5 << a6 << endl << a7 << a8 << a9 << "\n-"<<di<<"-\n";

        at = at * 10 + di;
    }

    for (int d = 0; d < a; d++) {
        int di= 0 ; 
        char a1 = A[0][d*4];
        char a2 = A[0][d*4+1]|| ' ';
        char a3 = A[0][d*4+2] || ' ';
        char a4 = A[1][d*4]|| ' ';
        char a5 = A[1][d*4+1]|| ' ';
        char a6 = A[1][d*4+2]|| ' ';
        char a7 = A[2][d*4]|| ' ';
        char a8 = A[2][d*4+1]|| ' ';
        char a9 = A[2][d*4+2]|| ' ';
        if (a1 == ' ' && a2 == ' ' && a3 == ' ' && a4 ==  ' ' && a5 == ' ' && a6 == '|' && a7 == ' ' && a8 == ' ' && a9 == '|') {
            di = 1;
        }
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  ' ' && a5 == '_' && a6 == '|' && a7 == '|' && a8 == '_' && a9 == ' '){ 
            di = 2;
        }
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  ' ' && a5 == '_' && a6 == '|' && a7 == ' ' && a8 == '_' && a9 == '|')
            di = 3;
        else if (a1 == ' ' && a2 == ' ' && a3 == ' ' && a4 ==  '|' && a5 == '_' && a6 == '|' && a7 == ' ' && a8 == ' ' && a9 == '|')
            di = 4;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  '|' && a5 == '_' && a6 == ' ' && a7 == ' ' && a8 == '_' && a9 == '|')
            di = 5;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  '|' && a5 == '_' && a6 == ' ' && a7 == '|' && a8 == '_' && a9 == '|')
            di = 6;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  ' ' && a5 == ' ' && a6 == ' ' && a7 == '|' && a8 == ' ' && a9 == '|')
            di = 7;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  '|' && a5 == '_' && a6 == '|' && a7 == '|' && a8 == '_' && a9 == '|')
            di = 8;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  '|' && a5 == '_' && a6 == '|' && a7 == ' ' && a8 == '_' && a9 == '|')
            di = 9;
        else if (a1 == ' ' && a2 == '_' && a3 == ' ' && a4 ==  '|' && a5 == ' ' && a6 == '|' && a7 == '|' && a8 == '_' && a9 == '|')
            di = 0;

        cout << "E\n" <<  a1 << a2 << a3 << endl << a4 << a5 << a6 << endl << a7 << a8 << a9 << "\n-"<<di<<"-\n";
        //printf("%d", a1);
        bt = bt * 10 + di;
    }

    cout << at << '\n' << bt << endl;
    cout << at+bt;

}
